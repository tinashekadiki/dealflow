<h1 mat-dialog-title>Add Trade In Vehicle</h1>
<mat-tab-group animationDuration="0ms" [(selectedIndex)]="selectedTabIndex" mat-dialog-content>
  <mat-tab label="Vehicle Details">
    <div fxLayout="column" fxLayoutAlign="none stretch" fxLayoutGap="20px">

      <mat-form-field appearance="outline">
        <mat-label>Vin Number</mat-label>
        <input matInput placeholder="Enter Vin Number" minlength="11" maxlength="17" [(ngModel)]="tradeVehicleRequest.vin"
          (input)="updateFormWithVehicleData($event.target.value)">
        <mat-icon matPrefix>search</mat-icon>
        <mat-error
          *ngIf="!vinValid">
          Maximum of 17 characters and minimum of 11 characters
        </mat-error>
      </mat-form-field>


      <mat-form-field appearance="outline" fxFlex="33" *ngIf="!gettingVehicle">
        <mat-label>Vehicle Make</mat-label>
        <input matInput placeholder="Vehicle Make" [(ngModel)]="tradeVehicleRequest.make">
        <!-- <mat-select name="vehicleMakes" [(ngModel)]="tradeVehicleRequest.make">
                    <mat-option *ngFor="let vehicleMake of vehicleMakes | keyvalue" [value]="vehicleMake.value">
                        {{vehicleMake.value}}
                    </mat-option>
                </mat-select> -->
      </mat-form-field>

      <mat-form-field appearance="outline" *ngIf="!gettingVehicle">
        <mat-label>Model Year</mat-label>
        <input matInput placeholder="Model Year" [(ngModel)]="tradeVehicleRequest.year">
        <!-- <mat-select name="modelYears" [(ngModel)]="tradeVehicleRequest.year">
                    <mat-option *ngFor="let year of modelYears" [value]="year">
                        {{year}}
                    </mat-option>
                </mat-select> -->
      </mat-form-field>

      <mat-form-field appearance="outline" *ngIf="!gettingVehicle">
        <mat-label>Model</mat-label>
        <input matInput placeholder="Enter Model" [(ngModel)]="tradeVehicleRequest.model">
      </mat-form-field>
      <mat-form-field *ngIf="gettingVehicle" appearance="outline">
        <mat-label>Loading..</mat-label>
      </mat-form-field>
    </div>
  </mat-tab>

</mat-tab-group>


<div mat-dialog-actions style="justify-content: flex-end;">
  <button mat-button (click)="onNoClick()">Cancel</button>
  <button mat-button color="primary" (click)="submitRequestAddTradeIn()" cdkFocusInitial>
    <ng-container *ngIf="!isLoading; else loadingSpinner">
      Submit
    </ng-container>
  </button>
</div>

<ng-template #loadingSpinner>
  <mat-progress-spinner diameter="20" mode="indeterminate"></mat-progress-spinner>
</ng-template>
